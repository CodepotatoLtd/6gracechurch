"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.tapAsync = exports.tap = void 0;
/**
 * Execute a callback function to contain code execution
 * side effects
 *
 * @remarks
 * Callback is provided {@link Bud} as a parameter.
 *
 * @example
 * ```ts
 * bud.tap(bud => {
 *   // do something with bud
 * })
 * ```
 *
 * @example
 * Lexical scope is bound to Bud where applicable, so it
 * is possible to reference the Bud using `this`.
 *
 * ```ts
 * bud.tap(function () {
 *  this.log('this references bud from the outer scope')
 * })
 * ```
 *
 * @public
 */
const tap = function (fn, bound = true) {
    const app = this;
    fn.call(bound ? app : null, app);
    return app;
};
exports.tap = tap;
/**
 * Execute an async callback
 *
 * @remarks
 * Callback is provided {@link Bud | the Bud instance} as a parameter.
 *
 * @example
 * ```js
 * bud.tapAsync(async bud => {
 *   // do something with bud
 * })
 * ```
 *
 * @example
 * Lexical scope is bound to Bud where applicable, so it
 * is possible to reference the Bud using `this`.
 *
 * ```js
 * bud.tapAsync(async function () {
 *  // do something with this
 * })
 * ```
 *
 * @public
 */
const tapAsync = async function (fn, bound = true) {
    await fn.call(bound ? this : null, this);
    return this;
};
exports.tapAsync = tapAsync;
