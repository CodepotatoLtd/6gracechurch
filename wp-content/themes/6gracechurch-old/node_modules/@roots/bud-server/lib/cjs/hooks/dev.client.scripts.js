"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.callback = exports.overlay = exports.proxyClickInterceptor = exports.src = void 0;
const src = (modulePath) => `@roots/bud-server/client/${modulePath}`;
exports.src = src;
/**
 * Proxy click interceptor
 *
 * @param app - Bud instance
 * @returns string
 *
 * @public
 */
const proxyClickInterceptor = (app) => app.hooks.filter('dev.middleware.enabled', []).includes('proxy')
    ? (0, exports.src)(`proxy-click-interceptor.js`)
    : null;
exports.proxyClickInterceptor = proxyClickInterceptor;
/**
 * Overlay
 *
 * @param app - Bud instance
 * @returns string
 *
 * @public
 */
const overlay = (app) => (0, exports.src)(`index.js?name=${app.name}&bud.overlay=${app.context.args.overlay}&bud.indicator=${app.context.args.indicator}&path=${app.hooks.filter('dev.middleware.hot.options.path')}`);
exports.overlay = overlay;
/**
 * Overlay
 *
 * @param app - Bud instance
 * @returns set of client scripts
 *
 * @public
 */
const callback = () => new Set([exports.overlay, exports.proxyClickInterceptor]);
exports.callback = callback;
